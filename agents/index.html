---
layout: default
title: All Agents
---

<div class="container layout-grid">
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-section">
            <h3><i class="fa-solid fa-layer-group"></i> Categories</h3>
            <ul class="filter-list" id="category-list">
                <li>
                    <button class="filter-btn active" data-category="All">
                        <span>All Agents</span>
                        <span class="count">{{ site.agents.size }}</span>
                    </button>
                </li>
                {% assign categories = site.agents | map: 'category' | uniq | sort %}
                {% for category in categories %}
                <li>
                    <button class="filter-btn" data-category="{{ category }}">
                        <span>{{ category }}</span>
                        <span class="count">{{ site.agents | where: 'category', category | size }}</span>
                    </button>
                </li>
                {% endfor %}
            </ul>
        </div>

        <div class="sidebar-section">
            <h3><i class="fa-solid fa-microchip"></i> Platforms</h3>
            <ul class="filter-list" id="platform-list">
                <li>
                    <button class="filter-btn active" data-platform="All">
                        <span>All Platforms</span>
                    </button>
                </li>
                <li>
                    <button class="filter-btn" data-platform="Windows">
                        <span>Windows</span>
                    </button>
                </li>
                <li>
                    <button class="filter-btn" data-platform="macOS">
                        <span>macOS</span>
                    </button>
                </li>
                <li>
                    <button class="filter-btn" data-platform="Linux">
                        <span>Linux</span>
                    </button>
                </li>
            </ul>
        </div>

        <div class="sidebar-section">
            <h3><i class="fa-solid fa-bolt"></i> Key Capabilities</h3>
            <div class="capability-filters" id="capability-filters">
                <button class="capability-badge active" data-capability="all">
                    All Capabilities
                </button>

                {% assign all_capabilities = "" | split: "" %}
                {% for agent in site.agents %}
                    {% for capability in agent.capabilities %}
                        {% assign all_capabilities = all_capabilities | push: capability %}
                    {% endfor %}
                {% endfor %}

                {% assign unique_capabilities = all_capabilities | uniq | sort %}

                {% for capability in unique_capabilities limit:15 %}
                <button class="capability-badge" data-capability="{{ capability | downcase }}">
                    {{ capability }}
                </button>
                {% endfor %}
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="content-area">
        <div style="margin-bottom: 30px;">
            <h1 style="font-size: 2rem; font-family: var(--font-code); margin-bottom: 10px; color: #fff;">All AI Agents</h1>
            <p style="color: var(--text-secondary); font-size: 1rem;">Comprehensive database of AI agents with documented attack vectors and abuse techniques</p>
        </div>

        <div id="agents-grid" class="agents-grid">
            {% for agent in site.agents %}
            <article class="agent-card"
                     data-category="{{ agent.category }}"
                     data-platforms="{{ agent.platforms | join: ' ' }}"
                     data-capabilities="{{ agent.capabilities | join: '|' | downcase }}">
                <div class="card-header">
                    <h3><a href="{{ agent.url | relative_url }}">{{ agent.title }}</a></h3>
                </div>

                <p class="agent-vendor">{{ agent.vendor }}</p>

                <div class="agent-tags">
                    <span class="badge badge-cat">{{ agent.category }}</span>
                    {% for platform in agent.platforms limit:2 %}
                    <span class="tag platform">{{ platform }}</span>
                    {% endfor %}
                </div>

                {% if agent.capabilities %}
                <div class="agent-capabilities">
                    <strong>Key Capabilities:</strong>
                    <ul>
                        {% for capability in agent.capabilities limit:3 %}
                        <li>{{ capability }}</li>
                        {% endfor %}
                    </ul>
                </div>
                {% endif %}

                <a href="{{ agent.url | relative_url }}" class="card-link">View Details →</a>
            </article>
            {% endfor %}
        </div>

        <!-- No Results State -->
        <div id="no-results" class="no-results hidden">
            <i class="fa-solid fa-robot fa-3x"></i>
            <h3>No agents found</h3>
            <p>Try refining your search query or changing the filters.</p>
        </div>
    </main>
</div>

<script>
// Enhanced filtering for agents page
(function() {
    'use strict';

    const state = {
        searchTerm: '',
        activeCategory: 'All',
        activePlatform: 'All',
        activeCapabilities: []
    };

    const searchInput = document.getElementById('live-search');
    const agentsGrid = document.getElementById('agents-grid');
    const categoryList = document.getElementById('category-list');
    const platformList = document.getElementById('platform-list');
    const noResults = document.getElementById('no-results');

    if (!agentsGrid) return;

    const agentCards = Array.from(agentsGrid.querySelectorAll('.agent-card'));

    function performFilter() {
        const searchTerm = state.searchTerm.toLowerCase().trim();
        let visibleCount = 0;

        agentCards.forEach(card => {
            const title = card.querySelector('h3').textContent.toLowerCase();
            const vendor = card.querySelector('.agent-vendor')?.textContent.toLowerCase() || '';
            const category = card.dataset.category?.toLowerCase() || '';
            const platforms = card.dataset.platforms?.toLowerCase() || '';

            // Парсинг capabilities из data-атрибута
            const capabilitiesAttr = card.dataset.capabilities || '';
            const capabilities = capabilitiesAttr.split('|').filter(c => c.trim());
            const capabilitiesText = capabilities.join(' ');

            const searchableText = `${title} ${vendor} ${category} ${platforms} ${capabilitiesText}`;

            // Search match
            const matchesSearch = searchTerm === '' || searchableText.includes(searchTerm);

            // Category match (single-select)
            const matchesCategory = state.activeCategory === 'All' || card.dataset.category === state.activeCategory;

            // Platform match (single-select)
            const matchesPlatform = state.activePlatform === 'All' || platforms.includes(state.activePlatform.toLowerCase());

            // Capability match (multi-select с OR логикой)
            let matchesCapability = true;
            if (state.activeCapabilities.length > 0) {
                // Агент должен иметь ХОТЯ БЫ ОДНУ выбранную capability
                matchesCapability = state.activeCapabilities.some(selectedCap =>
                    capabilities.includes(selectedCap)
                );
            }

            // Комбинируем все фильтры с AND логикой
            if (matchesSearch && matchesCategory && matchesPlatform && matchesCapability) {
                card.style.display = 'block';
                visibleCount++;
            } else {
                card.style.display = 'none';
            }
        });

        // Показать/скрыть сообщение "No results"
        if (visibleCount === 0) {
            agentsGrid.style.display = 'none';
            if (noResults) noResults.classList.remove('hidden');
        } else {
            agentsGrid.style.display = 'grid';
            if (noResults) noResults.classList.add('hidden');
        }
    }

    // Category filters
    if (categoryList) {
        categoryList.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                state.activeCategory = btn.dataset.category;
                categoryList.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                performFilter();
            });
        });
    }

    // Platform filters
    if (platformList) {
        platformList.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                state.activePlatform = btn.dataset.platform;
                platformList.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                performFilter();
            });
        });
    }

    // Capability filters (multi-select)
    const capabilityFilters = document.getElementById('capability-filters');
    if (capabilityFilters) {
        capabilityFilters.querySelectorAll('.capability-badge').forEach(badge => {
            badge.addEventListener('click', () => {
                const capability = badge.dataset.capability;

                if (capability === 'all') {
                    // Клик по "All Capabilities" - очистить все выборы
                    state.activeCapabilities = [];
                    capabilityFilters.querySelectorAll('.capability-badge').forEach(b => {
                        b.classList.remove('active');
                    });
                    badge.classList.add('active');
                } else {
                    // Клик по конкретной capability - toggle выбор
                    const index = state.activeCapabilities.indexOf(capability);

                    if (index > -1) {
                        // Снять выбор с этой capability
                        state.activeCapabilities.splice(index, 1);
                        badge.classList.remove('active');

                        // Если ничего не выбрано, активировать "All"
                        if (state.activeCapabilities.length === 0) {
                            const allBadge = capabilityFilters.querySelector('[data-capability="all"]');
                            if (allBadge) allBadge.classList.add('active');
                        }
                    } else {
                        // Выбрать эту capability
                        state.activeCapabilities.push(capability);
                        badge.classList.add('active');

                        // Деактивировать кнопку "All"
                        const allBadge = capabilityFilters.querySelector('[data-capability="all"]');
                        if (allBadge) allBadge.classList.remove('active');
                    }
                }

                performFilter();
            });
        });
    }

    // Search integration
    if (searchInput) {
        searchInput.addEventListener('input', function() {
            state.searchTerm = this.value;
            performFilter();
        });
    }
})();
</script>
